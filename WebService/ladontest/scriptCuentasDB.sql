SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL';
CREATE  TABLE IF NOT EXISTS `Estado` (   `idEstado` INT NOT NULL AUTO_INCREMENT ,   `nombre` VARCHAR(45) NOT NULL ,   PRIMARY KEY (`idEstado`) ) ENGINE = InnoDB;
CREATE  TABLE IF NOT EXISTS `PeriodoContable` (   `idPeriodoContable` INT NOT NULL AUTO_INCREMENT ,   `idEstado` INT NOT NULL ,   `anio` INT NOT NULL ,   `mes` INT NOT NULL ,   `inicioContable` DATE NOT NULL ,   `finContable` DATE NOT NULL ,   `inicioDocumento` DATE NOT NULL ,   `finDocumento` DATE NOT NULL ,   `inicioVencimiento` DATE NOT NULL ,   `finVencimiento` DATE NOT NULL ,   PRIMARY KEY (`idPeriodoContable`) ,   INDEX `fk_PeriodoContable_Estado1_idx` (`idEstado` ASC) ,   CONSTRAINT `fk_PeriodoContable_Estado1` FOREIGN KEY (`idEstado` ) REFERENCES `Estado` (`idEstado` ) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE = InnoDB;
CREATE  TABLE IF NOT EXISTS `Cuenta` (   `idCuenta` INT NOT NULL AUTO_INCREMENT ,   `codigo` VARCHAR(45) NOT NULL ,   `nombre` VARCHAR(45) NOT NULL ,   `nombreExtranjero` VARCHAR(45) NULL ,   `titulo` TINYINT(1) NOT NULL ,   `saldoSistema` DECIMAL(10,4) NOT NULL ,   `saldoLocal` DECIMAL(10,4) NOT NULL ,   PRIMARY KEY (`idCuenta`) ) ENGINE = InnoDB;
CREATE  TABLE IF NOT EXISTS `TipoMoneda` (   `idTipoMoneda` INT NOT NULL AUTO_INCREMENT ,   `nombre` VARCHAR(10) NOT NULL ,   PRIMARY KEY (`idTipoMoneda`) ) ENGINE = InnoDB;
CREATE  TABLE IF NOT EXISTS `Moneda` (   `idMoneda` INT NOT NULL AUTO_INCREMENT ,   `nombre` VARCHAR(10) NOT NULL ,   `idTipoMoneda` INT NOT NULL ,   `BCCR` TINYINT(1) NOT NULL ,   `codigo` VARCHAR(4) NOT NULL ,   PRIMARY KEY (`idMoneda`) ,   INDEX `fk_Moneda_TipoMoneda1_idx` (`idTipoMoneda` ASC) ,   CONSTRAINT `fk_Moneda_TipoMoneda1` FOREIGN KEY (`idTipoMoneda` ) REFERENCES `TipoMoneda` (`idTipoMoneda` ) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE = InnoDB;
CREATE  TABLE IF NOT EXISTS `TipoCambio` (   `idTipoCambio` INT NOT NULL AUTO_INCREMENT ,   `relacionCompra` DECIMAL(10,4) NOT NULL ,   `relacionVenta` DECIMAL(10,4) NOT NULL ,   `fecha` DATE NOT NULL ,   `idMoneda` INT NOT NULL ,   PRIMARY KEY (`idTipoCambio`) ,   INDEX `fk_TipoCambio_Moneda1` (`idMoneda` ASC) ,   CONSTRAINT `fk_TipoCambio_Moneda1` FOREIGN KEY (`idMoneda` ) REFERENCES `Moneda` (`idMoneda` ) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE = InnoDB;
CREATE  TABLE IF NOT EXISTS `CuentaXMoneda` (   `idCuenta` INT NOT NULL ,   `idMoneda` INT NOT NULL ,   PRIMARY KEY (`idCuenta`, `idMoneda`) ,   INDEX `fk_Cuenta_has_Moneda_Moneda1_idx` (`idMoneda` ASC) ,   INDEX `fk_Cuenta_has_Moneda_Cuenta1_idx` (`idCuenta` ASC) ,   CONSTRAINT `fk_Cuenta_has_Moneda_Cuenta1` FOREIGN KEY (`idCuenta` ) REFERENCES `Cuenta` (`idCuenta` ) ON DELETE NO ACTION ON UPDATE NO ACTION,   CONSTRAINT `fk_Cuenta_has_Moneda_Moneda1` FOREIGN KEY (`idMoneda` ) REFERENCES `Moneda` (`idMoneda` ) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE = InnoDB;
CREATE  TABLE IF NOT EXISTS `TipoAsiento` (   `idTipoAsiento` INT NOT NULL AUTO_INCREMENT ,   `nombre` VARCHAR(2) NOT NULL ,   PRIMARY KEY (`idTipoAsiento`) ) ENGINE = InnoDB;
CREATE  TABLE IF NOT EXISTS `Asiento` (   `idAsiento` INT NOT NULL AUTO_INCREMENT ,   `fechaContabilizacion` DATE NOT NULL ,   `fechaDocumento` DATE NOT NULL ,   `Referencia1` VARCHAR(20) NOT NULL ,   `Referencia2` VARCHAR(20) NOT NULL ,   `idTipoAsiento` INT NOT NULL ,   PRIMARY KEY (`idAsiento`) ,   INDEX `fk_Asiento_TipoAsiento1_idx` (`idTipoAsiento` ASC) ,   CONSTRAINT `fk_Asiento_TipoAsiento1` FOREIGN KEY (`idTipoAsiento` ) REFERENCES `TipoAsiento` (`idTipoAsiento` ) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE = InnoDB;
CREATE  TABLE IF NOT EXISTS `AsientoXCuenta` (   `idAsiento` INT NOT NULL ,   `idCuenta` INT NOT NULL ,   `debe` TINYINT(1) NOT NULL ,   `montoSistema` DECIMAL(10,4) NOT NULL ,   `montoLocal` DECIMAL(10,4) NOT NULL ,   `montoExtranjero` VARCHAR(45) NOT NULL ,   `idMoneda` INT NOT NULL ,   PRIMARY KEY (`idAsiento`, `idCuenta`) ,   INDEX `fk_Asiento_has_Cuenta_Cuenta1_idx` (`idCuenta` ASC) ,   INDEX `fk_Asiento_has_Cuenta_Asiento1_idx` (`idAsiento` ASC) ,   INDEX `fk_AsientoXCuenta_Moneda1_idx` (`idMoneda` ASC) ,   CONSTRAINT `fk_Asiento_has_Cuenta_Asiento1` FOREIGN KEY (`idAsiento` ) REFERENCES `Asiento` (`idAsiento` ) ON DELETE NO ACTION ON UPDATE NO ACTION,   CONSTRAINT `fk_Asiento_has_Cuenta_Cuenta1` FOREIGN KEY (`idCuenta` ) REFERENCES `Cuenta` (`idCuenta` ) ON DELETE NO ACTION ON UPDATE NO ACTION,   CONSTRAINT `fk_AsientoXCuenta_Moneda1` FOREIGN KEY (`idMoneda` ) REFERENCES `Moneda` (`idMoneda` ) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE = InnoDB;
SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
